<html>
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<link rel="stylesheet" href="../install/ChemDoodleWeb.css" type="text/css">
<link rel="stylesheet" href="../install/uis/jquery-ui-1.11.4.css" type="text/css">

<script type="text/javascript" src="../install/ChemDoodleWeb.js"></script>
<script type="text/javascript" src="../install/uis/ChemDoodleWeb-uis.js"></script>
<title>ChemDoodle Web Component Sketcher (Full Sketcher)</title>
<style>
  .export-button {
    margin: 10px;
    padding: 8px 15px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  .export-button:hover {
    background-color: #45a049;
  }
  #smilesOutput {
    margin: 10px;
    padding: 10px;
    width: 80%;
    min-height: 50px;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
</style>
</head>
<body>
<center>
<br>
<script>
  ChemDoodle.ELEMENT['H'].jmolColor = 'black';
  ChemDoodle.ELEMENT['S'].jmolColor = '#B9A130';
  var sketcher = new ChemDoodle.SketcherCanvas('sketcher', 500, 300,{useServices:true});
  sketcher.styles.atoms_displayTerminalCarbonLabels_2D = true;
  sketcher.styles.atoms_useJMOLColors = true;
  sketcher.styles.bonds_clearOverlaps_2D = true;
  sketcher.styles.shapes_color = '#c10000';
  sketcher.repaint();

  function exportToSMILES() {
    try {
      let mol = sketcher.getMolecule();
      let smiles = ChemDoodle.writeMOL(mol);
      document.getElementById('smilesOutput').value = smiles;
    } catch(error) {
      console.error('Error converting to SMILES:', error);
      document.getElementById('smilesOutput').value = 'Error converting structure to SMILES';
    }
  }
</script>

<div id="sketcherContainer">
  <div id="sketcher"></div>
  <button class="export-button" onclick="exportToSMILES()">Export to SMILES</button>
  <textarea id="smilesOutput" placeholder="SMILES string will appear here..." readonly></textarea>
</div>

</center>
</body>
</html>